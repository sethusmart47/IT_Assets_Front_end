<div class="content-area p-4">
  <h2>Employee Details</h2>

  <form class="clr-form clr-form-horizontal mb-3" (ngSubmit)="fetchEmployee()">
    <clr-input-container>
      <label>Employee Code</label>
      <input clrInput type="text" [(ngModel)]="empCode" name="empCode" required />
    </clr-input-container>
    <button type="submit" class="btn btn-primary mt-2">Fetch Employee</button>
  </form>

  <div *ngIf="employee">
    <h3>{{ employee.empName }} ({{ employee.empCode }})</h3>
    <p><strong>Email:</strong> {{ employee.empMail }}</p>

    <h4 class="mt-4">Add Accessory</h4>
    <!-- <form class="clr-form clr-form-horizontal mb-4" (ngSubmit)="addAccessory()">
      <clr-input-container>
        <label>Accessory Type</label>
        <input clrInput type="text" [(ngModel)]="newAccessory.accessoryType" name="accessoryType" required />
      </clr-input-container>

      <clr-input-container>
        <label>Accessory Name</label>
        <input clrInput type="text" [(ngModel)]="newAccessory.accessoryName" name="accessoryName" required />
      </clr-input-container>

      <clr-input-container>
        <label>Serial No</label>
        <input clrInput type="text" [(ngModel)]="newAccessory.serialNo" name="serialNo" />
      </clr-input-container>

      <clr-input-container>
        <label>Issue Date</label>
        <input clrInput type="date" [(ngModel)]="newAccessory.issueDate" name="issueDate" />
      </clr-input-container>

      <button type="submit" class="btn btn-success mt-2">Add Accessory</button>
    </form> -->

    <h4>Accessories</h4>

  <clr-datagrid>
    <clr-dg-column>ID</clr-dg-column>
    <clr-dg-column>Type</clr-dg-column>
    <clr-dg-column>Name</clr-dg-column>
    <clr-dg-column>Serial No</clr-dg-column>
    <clr-dg-column>Issue Date</clr-dg-column>
    <clr-dg-column>Actions</clr-dg-column>

  <clr-dg-row *ngFor="let item of employee.accessories; let i = index">
      <clr-dg-cell>{{ i + 1 }}</clr-dg-cell>
      <clr-dg-cell>{{ item.accessoryType }}</clr-dg-cell>
      <clr-dg-cell>{{ item.accessoryName }}</clr-dg-cell>
      <clr-dg-cell>{{ item.serialNo }}</clr-dg-cell>
      <clr-dg-cell>{{ item.issueDate | date:'yyyy-MM-dd' }}</clr-dg-cell>
      <!-- <clr-dg-cell>
        <button class="btn btn-sm btn-warning" (click)="editAccessory(item)">Edit</button>
        <button class="btn btn-sm btn-danger" (click)="deleteAccessory(item.id)">Delete</button>
      </clr-dg-cell> -->
    </clr-dg-row>
  </clr-datagrid>
    <ng-template #noData>
      <p class="text-muted mt-3">No accessories found for this employee.</p>
    </ng-template>
  </div>
</div>
