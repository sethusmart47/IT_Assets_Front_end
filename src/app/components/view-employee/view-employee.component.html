<div class="container clr-example">
  <h2 class="page-title">Employee Accessory Management</h2>

  <!-- Search Section -->
  <div class="search-bar">
    <input
      type="text"
      class="clr-input"
      [(ngModel)]="empCode"
      placeholder="Enter Employee Code"
    />
    <button class="btn btn-primary" (click)="fetchEmployee()">Search</button>
  </div>
</div>
<div >
  <!-- Employee Details -->
  <div class="Empdetails">
    <h3>{{ employee.empName }}</h3>
    <p><strong>Employee Code:</strong> {{ employee.empCode }}</p>
    <p><strong>Email:</strong> {{ employee.empMail }}</p>
  </div>

  <!-- Add / Update Accessory -->
  <section>
    <div class="addtitle">
 <h5>Add / Update Accessory</h5>
    </div>
   

<form clrForm class="accessory-form">
  <div class="form-row">
    <clr-input-container>
      <label>Accessory Type</label>
      <input clrInput type="text" [(ngModel)]="newAccessory.accessoryType" name="accessoryType" />
    </clr-input-container>
  </div>

  <div class="form-row">
    <clr-input-container>
      <label>Accessory Name</label>
      <input clrInput type="text" [(ngModel)]="newAccessory.accessoryName" name="accessoryName" />
    </clr-input-container>
  </div>

  <div class="form-row">
    <clr-input-container>
      <label>Serial Number</label>
      <input clrInput type="text" [(ngModel)]="newAccessory.serialNo" name="serialNo" />
    </clr-input-container>
  </div>

  <div class="form-row">
    <clr-date-container>
      <label>Issue Date</label>
      <input clrDate type="date" [(ngModel)]="newAccessory.issueDate" name="issueDate" />
    </clr-date-container>
  </div>

  <div class="button-row">
    <button type="button" clrButton (click)="addAccessory()" class="btn btn-primary">
      {{ editingAccessoryId ? 'Update' : 'Add' }}
    </button>
  </div>
</form>


  </section>

  <!-- Accessories List (Clarity Datagrid) -->
  <section>
  

    <clr-datagrid >
      <clr-dg-column>Accessory Type</clr-dg-column>
      <clr-dg-column>Accessory Name</clr-dg-column>
      <clr-dg-column>Serial No</clr-dg-column>
      <clr-dg-column>Issue Date</clr-dg-column>
      <clr-dg-column>Actions</clr-dg-column>

      <clr-dg-row *ngFor="let item of accessories1">
        <clr-dg-cell>{{ item.accessoryType }}</clr-dg-cell>
        <clr-dg-cell>{{ item.accessoryName }}</clr-dg-cell>
        <clr-dg-cell>{{ item.serialNo }}</clr-dg-cell>
        <clr-dg-cell>{{ item.issueDate | date }}</clr-dg-cell>
        <clr-dg-cell>
          <button clrButton (click)="editAccessory(item)">Edit</button>
          <button clrButton type="button" (click)="deleteAccessory(item.id)" class="btn btn-danger">
            Delete
          </button>
        </clr-dg-cell>
      </clr-dg-row>

      <clr-dg-footer>
        <clr-dg-pagination #pagination [clrDgPageSize]="5">
          <clr-dg-page-size [clrPageSizeOptions]="[5, 10, 20]">
            Accessories per page
          </clr-dg-page-size>
          {{ pagination.firstItem + 1 }} - {{ pagination.lastItem + 1 }} of
          {{ pagination.totalItems }} accessories
        </clr-dg-pagination>
      </clr-dg-footer>
    </clr-datagrid>

    <p *ngIf="accessories1.length === 0">No accessories found for this employee.</p>
  </section>
</div>
